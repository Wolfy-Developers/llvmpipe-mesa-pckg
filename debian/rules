#!/usr/bin/make -f
# See debhelper(7) (uncomment to enable)
# output every command that modifies files on the build system.
export DH_VERBOSE = 1
export PATH=/opt/python-3.7.10/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:.

%:
	dh $@

override_dh_auto_clean:
	rm -fr build
	echo "Hellooooooooooooooooooooooooooooooooooooooooooooooooooooooo!"

override_dh_auto_configure:
	mkdir -p build
	meson  --buildtype=release  --sysconfdir=/etc   --prefix=/usr  -D b_ndebug=true  -D egl=false  -D gallium-nine=false  -D gallium-xvmc=false  -D gbm=false  -D gles1=false  -D gles2=false  -D opengl=true  -D dri-drivers=  -D dri3=false   -D egl=false  -D gallium-drivers=  -D gbm=false  -D shader-cache=true  -D llvm=true  -D lmsensors=false  -D optimization=3  -D platforms=x11  -D shared-glapi=true  -D shared-llvm=true  -D vulkan-drivers=  -D osmesa=classic  build/

override_dh_auto_build:
	cd build && ninja -v

override_dh_auto_test:
	cd build && ninja test

override_dh_auto_install:
	DESTDIR=${CURDIR}/debian/mesa ninja -C build -v install

